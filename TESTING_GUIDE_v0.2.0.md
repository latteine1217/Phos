# Phos v0.2.0 測試指南

**版本**: v0.2.0 (Development)  
**測試日期**: 2025-12-19  
**測試目標**: 驗證批量處理功能與新 UI 設計

---

## 🚀 啟動應用

```bash
cd /Users/latteine/Documents/coding/Phos
streamlit run Phos_0.2.0.py
```

**預期輸出**:
```
You can now view your Streamlit app in your browser.

Local URL: http://localhost:8501
Network URL: http://192.168.x.x:8501
```

---

## ✅ 測試清單

### 1. UI 外觀檢查 (5 分鐘)

#### 歡迎頁面
- [ ] 標題 "Phos." 顯示為珊瑚紅色（#FF6B6B）
- [ ] 功能卡片（單張處理 / 批量處理）佈局正常
- [ ] 兩個卡片等高，邊框為淺珊瑚紅
- [ ] 胶片列表顯示正常（彩色 / 黑白分欄）
- [ ] 底部提示文字居中顯示

#### 側邊欄
- [ ] 背景半透明（深藍灰色）
- [ ] 標題層次清晰（Phos. / 計算光學胶片模拟）
- [ ] 處理模式單選按鈕顯示正常
- [ ] 胶片選擇下拉框樣式正確
- [ ] 顆粒度、曲線映射選擇框正常
- [ ] 文件上傳器虛線邊框顯示

#### 交互反饋
- [ ] 按鈕懸停時有 1px 上移效果
- [ ] 選擇框 Focus 時邊框高亮
- [ ] 文件上傳器懸停時邊框顏色加深
- [ ] 滾動條顯示為珊瑚紅色

---

### 2. 單張處理模式測試 (10 分鐘)

#### 基本流程
1. 選擇「單張處理」模式
2. 選擇胶片（建議測試 NC200 或 Portra400）
3. 設定顆粒度（預設 / 柔和 / 較粗）
4. 設定曲線映射（filmic / reinhard）
5. 上傳一張測試照片（JPG/PNG）

#### 驗證點
- [ ] 照片上傳成功（無錯誤提示）
- [ ] 處理自動開始（無需點擊按鈕）
- [ ] 處理時間顯示（例如：用時 2.35 秒）
- [ ] 結果圖片顯示正常
- [ ] 圖片有圓角（12px）和陰影
- [ ] 下載按鈕顯示為綠色
- [ ] 點擊下載按鈕能下載圖片
- [ ] 檔名格式正確（`phos_nc200_20251219_xxxxxx.jpg`）

#### 異常處理
- [ ] 上傳非圖片文件時顯示錯誤提示
- [ ] 錯誤提示框樣式正確（紅色左邊框）

---

### 3. 批量處理模式測試 (15 分鐘)

#### 基本流程
1. 選擇「批量處理」模式
2. 選擇胶片（建議 Portra400）
3. 設定顆粒度與曲線映射
4. 上傳多張照片（建議 3-5 張測試）

#### 驗證點 - 上傳階段
- [ ] 多文件上傳器顯示（accept_multiple_files）
- [ ] 上傳成功後顯示 "✅ 已上傳 X 張照片"
- [ ] 顯示預計處理時間（例如：約 10 秒）
- [ ] 藍色資訊提示框樣式正確

#### 驗證點 - 處理階段
- [ ] 點擊「🚀 開始批量處理」按鈕
- [ ] 按鈕為 Primary 樣式（珊瑚紅漸變）
- [ ] 進度條出現並正常更新
- [ ] 進度條顏色為珊瑚紅漸變
- [ ] 狀態文字顯示當前處理檔案（處理中: IMG_xxxx.jpg (2/5)）
- [ ] 處理時間合理（約 2-3 秒/張）

#### 驗證點 - 結果階段
- [ ] 處理完成顯示成功訊息（綠色提示框）
- [ ] 統計資訊正確（成功 X 張，失敗 Y 張）
- [ ] 總處理時間顯示
- [ ] 結果預覽顯示前 6 張（3 列）
- [ ] 預覽圖片有圓角和陰影
- [ ] ZIP 下載按鈕顯示（綠色樣式）
- [ ] 點擊下載按鈕能下載 ZIP 檔案
- [ ] ZIP 檔名格式正確（`Phos_Batch_Portra400_20251219_xxxxxx.zip`）

#### 驗證點 - ZIP 內容
- [ ] 解壓 ZIP 檔案成功
- [ ] 檔案數量正確
- [ ] 檔名格式正確（`原檔名_胶片名.jpg`）
- [ ] 圖片能正常開啟
- [ ] 圖片質量正確（無過度壓縮）

#### 異常處理
- [ ] 上傳超過 50 張照片時顯示錯誤
- [ ] 某張照片處理失敗時不影響其他照片
- [ ] 失敗照片在展開面板中列出

---

### 4. 不同胶片測試 (10 分鐘)

測試不同胶片的效果是否正確：

#### 彩色胶片
- [ ] **NC200**: 富士清新色調（偏黃綠）
- [ ] **Portra400**: 人像細膩膚色（低顆粒）
- [ ] **Ektar100**: 高飽和風景（鮮豔）
- [ ] **Cinestill800T**: 電影感（強光暈）

#### 黑白胶片
- [ ] **AS100**: 細膩灰階（柔和顆粒）
- [ ] **HP5Plus400**: 街拍經典（明顯顆粒）
- [ ] **FS200**: 高對比概念片（極黑極白）

---

### 5. 參數調整測試 (10 分鐘)

#### 顆粒度測試
- [ ] **柔和**: 顆粒不明顯，畫面柔美
- [ ] **默認**: 適度顆粒，平衡感
- [ ] **較粗**: 明顯顆粒，復古感
- [ ] **不使用**: 無顆粒，平滑

#### 曲線映射測試
- [ ] **filmic**: 肩部趾部刻畫明顯，電影感
- [ ] **reinhard**: 動態範圍更好，自然過渡

---

### 6. 性能測試 (5 分鐘)

#### 單張處理
- [ ] 小圖片（< 1MB）處理時間 < 2 秒
- [ ] 中圖片（1-5MB）處理時間 < 5 秒
- [ ] 大圖片（> 5MB）處理時間 < 10 秒

#### 批量處理
- [ ] 5 張照片處理時間 < 15 秒
- [ ] 10 張照片處理時間 < 30 秒
- [ ] 記憶體占用合理（< 500MB）

---

### 7. 瀏覽器兼容性測試 (可選)

- [ ] **Chrome**: UI 正常，功能正常
- [ ] **Firefox**: UI 正常，功能正常
- [ ] **Safari**: UI 正常，功能正常
- [ ] **Edge**: UI 正常，功能正常

---

## 🐛 已知問題記錄

### UI 問題
- [ ] 問題 1: 
- [ ] 問題 2: 

### 功能問題
- [ ] 問題 1: 
- [ ] 問題 2: 

### 性能問題
- [ ] 問題 1: 
- [ ] 問題 2: 

---

## 📝 測試結果總結

### 通過項目
- 總計: __/50

### 失敗項目
- 總計: __/50

### 問題嚴重度
- 🔴 Critical (阻斷發布): __
- 🟡 High (需要修復): __
- 🟢 Medium (建議修復): __
- ⚪ Low (可接受): __

---

## 🎯 下一步行動

### 如果測試通過 (>90%)
1. 更新 README.md
2. 創建 V0.2.0_RELEASE.md
3. Git commit and push
4. 標記版本 `v0.2.0`

### 如果測試未通過 (<90%)
1. 記錄所有問題到 GitHub Issues
2. 根據優先級修復
3. 重新測試
4. 更新 V0.2.0_DEVELOPMENT_SUMMARY.md

---

## 📋 測試截圖（可選）

建議截圖區域：
1. 歡迎頁面全貌
2. 側邊欄設定區域
3. 單張處理結果
4. 批量處理進度條
5. 批量處理結果預覽
6. 不同胶片效果對比

---

## 💡 測試技巧

### 快速測試照片準備
```bash
# 創建測試照片目錄
mkdir -p ~/Desktop/phos_test_images

# 從網路下載測試圖片（可選）
# 或使用自己的照片
```

### 性能監控
```bash
# 在另一個終端監控資源使用
top -pid $(pgrep -f "streamlit run")
```

### 批量測試腳本（未來）
```python
# tests/test_batch_integration.py
# 自動化批量處理測試
```

---

**測試人員**: ___________  
**測試日期**: ___________  
**測試環境**: macOS / Windows / Linux  
**瀏覽器**: Chrome / Firefox / Safari / Edge  
**Python 版本**: 3.13  
**Streamlit 版本**: 1.51.0
