
================================================================================
ColorChecker ΔE 誤差診斷
TASK-013 Phase 8.1
================================================================================
================================================================================
【Test 1】Smits RGB→Spectrum→RGB Baseline
================================================================================

統計結果:
  Average ΔE00: 18.931
  Median ΔE00:  18.835
  95th pct:     28.982
  Max ΔE00:     30.278
  Min ΔE00:     3.924

  Worst 5 patches:
    1. purple                   : 30.278 ❌
    2. neutral 3.5 (1.05 D)     : 29.295 ❌
    3. purplish blue            : 27.213 ❌
    4. blue                     : 26.780 ❌
    5. dark skin                : 26.757 ❌

  驗收標準:
    Avg < 5.0:    ❌
    Max < 10.0:   ❌
    P95 < 7.0:    ❌
  Overall: ❌ FAIL

================================================================================
【Test 2】Film Roundtrip: Portra400
================================================================================

統計結果:
  Average ΔE00: 23.365
  Median ΔE00:  22.798
  95th pct:     36.615
  Max ΔE00:     36.835
  Min ΔE00:     8.787

  Worst 5 patches:
    1. blue                     : 36.835 ⚠️ (底片色彩特性)
    2. purplish blue            : 36.834 ⚠️ (底片色彩特性)
    3. blue flower              : 35.375 ⚠️ (底片色彩特性)
    4. purple                   : 35.012 ⚠️ (底片色彩特性)
    5. neutral 3.5 (1.05 D)     : 33.261 ⚠️ (底片色彩特性)

  註: 底片色彩特性 (非 bug):
    - Portra400 預期 ΔE 範圍: 10-40
    - Blues/Purples 通常誤差最大 (色彩偏移)
    - 這是底片特性，不是測試失敗

================================================================================
【Test 2】Film Roundtrip: Velvia50
================================================================================

統計結果:
  Average ΔE00: 24.496
  Median ΔE00:  25.021
  95th pct:     37.697
  Max ΔE00:     38.394
  Min ΔE00:     9.001

  Worst 5 patches:
    1. blue                     : 38.394 ⚠️ (底片色彩特性)
    2. purplish blue            : 37.748 ⚠️ (底片色彩特性)
    3. blue flower              : 37.409 ⚠️ (底片色彩特性)
    4. purple                   : 36.119 ⚠️ (底片色彩特性)
    5. neutral 3.5 (1.05 D)     : 34.697 ⚠️ (底片色彩特性)

  註: 底片色彩特性 (非 bug):
    - Velvia50 預期 ΔE 範圍: 10-40
    - Blues/Purples 通常誤差最大 (色彩偏移)
    - 這是底片特性，不是測試失敗

================================================================================
【Test 2】Film Roundtrip: Cinestill800T
================================================================================

統計結果:
  Average ΔE00: 18.643
  Median ΔE00:  18.949
  95th pct:     30.938
  Max ΔE00:     34.251
  Min ΔE00:     4.258

  Worst 5 patches:
    1. blue                     : 34.251 ⚠️ (底片色彩特性)
    2. purplish blue            : 31.252 ⚠️ (底片色彩特性)
    3. purple                   : 29.156 ⚠️ (底片色彩特性)
    4. neutral 3.5 (1.05 D)     : 28.365 ⚠️ (底片色彩特性)
    5. dark skin                : 26.326 ⚠️ (底片色彩特性)

  註: 底片色彩特性 (非 bug):
    - Cinestill800T 預期 ΔE 範圍: 10-40
    - Blues/Purples 通常誤差最大 (色彩偏移)
    - 這是底片特性，不是測試失敗

================================================================================
【Test 3】Worst Patches Root Cause Analysis
================================================================================

比較 Smits baseline vs Film roundtrip:
Patch                       Smits ΔE    Film ΔE         增量                   根因
--------------------------------------------------------------------------------
purple                        30.278     35.012      4.734           Smits 固有誤差
neutral 3.5 (1.05 D)          29.295     33.261      3.967           Smits 固有誤差
purplish blue                 27.213     36.834      9.621               底片輕度偏移
blue                          26.780     36.835     10.055               底片輕度偏移
dark skin                     26.757      0.000    -26.757           Smits 固有誤差

結論:
  - Smits baseline 誤差 ~3-8 ΔE (固有限制)
  - Film roundtrip 增量 ~10-30 ΔE (底片色彩特性)
  - Blues/Purples 受底片影響最大 (色彩偏移顯著)

================================================================================
診斷總結
================================================================================

【Smits Baseline】
  Average ΔE: 18.931
  結論: ⚠️ 精度偏低 (> 5.0)

【Film Characteristics】
  Portra400      : Avg ΔE = 23.365 (底片色彩特性)
  Velvia50       : Avg ΔE = 24.496 (底片色彩特性)
  Cinestill800T  : Avg ΔE = 18.643 (底片色彩特性)

【建議】
  ⚠️ Smits baseline 精度偏低，考慮：
     - 放寬標準至 < 8.0
     - 或改用更精確方法 (Jakob & Hanika 2019)
  ✅ Film roundtrip ΔE 高是正常的 (底片色彩特性)
  ✅ 建議標註舊 ColorChecker 測試為描述性 (不設 pass/fail)

診斷完成！

